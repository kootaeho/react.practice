<!--
<!DOCTYPE html>
<html>
<body>
    <div id = "root"></div>
</body>
<script src = "https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
<script src = "https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
<script>
    const root = document.getElementById("root");
    const span = React.createElement("span", {id : "span-byReact", style : {color : "red"}}, "content");
    ReactDOM.render(span, root);
</script>
</html>
-->

<!-- 자바스크립트에서는 파이썬처럼 앞에 function을 붙이고 괄호를 쓰거나 선언한뒤 = 뒤에 () => 를 붙이면 arrow function 이라고 일반 함수와 비슷하게 선언이 됨. -->

<!DOCTYPE html>
<html>
<body>
    <div id = "root"></div>
</body>
<script src = "https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
<script src = "https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
<script src = "https://unpkg.com/@babel/standalone/babel.min.js"></script>  <!--babel 변환기 설치 --> 

<script type = "text/babel">  //type 을 설정해서 변환기가 아래 자바스크립트 코드에 적용 되도록.
    /*
    const root = document.getElementById("root");
    //const h3 = React.createElement("h1", {id : "span-byReact", style : {color : "red"}, onMouseEnter: () => console.log("mouse enter!")}, "content");    //이 코드와 똑같이 동작하는 코드는 아래와 같음. JSX이용.
    function H3(){return( <h3 id = "span-byReact"style ={{color : "red"}} onMouseEnter = {() => console.log("mouse enter!")}> content </h3> )}
    //const btn = React.createElement("button", {onClick: () => console.log("click!")} , "Click me");                //이코드와 똑같은 동작하는 코드는 아래와 같다. JSX이용.
    const Btn = () => <button  onClick={() => console.log("click!")}>Click me</button>
    //위의 두코드는 JSX로 작성됬는데. 브라우저는 이를 이해하지 못하므로 Babel이라는 변환기를 통해서 브라우저가 이해할수있게 바꾸고 전달해야함.
    //const container = React.createElement("div", null, [h3,btn]);          //이 코드도 아래처럼 바꿀수 있음.
    const container = (
        <div> 
            <H3 />                 
            <Btn />  
        </div>
    ); //위처럼 함수를 <함수명/> 형태로 호출하려면 함수의 맨앞자리가 "무조건" 대문자여야함. 대문자가 아니라면 React나 JSX는 HTML 태그로 인식하기 때문.
    ReactDOM.render(container, root);
    */

    /*
    const root = document.getElementById("root");
    const App = () => {
        //const data = React.useState(0);
        const [counter , modifier] = React.useState(0);  // = data 라고 해도 된다. 윗줄이 주석처리 되어있지 않을때는.  useState는 값을 두개를 반환한다. data값, datat값을 바꿀때 호출될 함수(modifier). ()안에 값을
        //입력하면 그게 디폴트값으로 설정되서 그 값을 초기에 반환함.  React.useState()의 장점은 값을 바꾸는 함수(modifier)가 실행되면 자동으로 그값을 반영해 브라우저를 refresh 함.(자동으로 렌더링함.)
        const onClick = () =>{
            // modifier(counter + 1);  //()안에 있는 값으로 counter 값을 변경함. 만약 3이라면 counter = 3 을하는거고 counter + 1 이라면 counter = counter + 1 을 하는것임. 그이후 자동으로 render함.
            modifier((current) => current + 1);   //이 코드는 윗줄과 똑같은 동작을 하지만 더 안전함. 현재 state 를 바탕으로 다음 state를 계산해 내고싶다면 이런식으로 함수를 작성하는것이 좋음. 이때 함수의 첫번째 인자는 항상 현재state이다.
        };
    return (
        <div>
            <h3>Total click: {counter}</h3>
            <button onClick={onClick}>Click me</button>
        </div>
    );
    };
    ReactDOM.render(<App/>, root);
    */

    const root = document.getElementById("root");
    function MinutesToHours(){
        const [amount, setMinutes] = React.useState();
        const [flipped, setFlipped] = React.useState(false);
        const onChange = (event) =>{
        setMinutes(event.target.value);    
    };
    const onFlip = () => {
        reset(0);
        setFlipped(current => !current);
    }
    const reset = () => setMinutes(0);
    return (
        <div>
            <div>
                <label htmlFor ="minutes">Minutes</label>
                <input 
                value = {flipped ? amount*60 : amount}
                id = " minutes" 
                placeholder = "Minutes" 
                type = "number"
                onChange = {onChange}
                disabled = {flipped === true}
                />
            </div>
            <div>
            <label htmlFor = "hours">Hours</label>
            <input value = {flipped ? amount: Math.round(amount/60)} id = "hours" placeholder = "Hours" type = "number" onChange = {onChange} disabled = {flipped === false}/>
            </div>
            <button onClick ={reset}>Reset</button>
            <button onClick ={onFlip}>Flip</button>
        </div>
    );
    }
    function KmToMiles(){
        const [amount,setAmount] = React.useState();
        const [flipped,setFlipped] = React.useState(false);

        const onChange = (event) =>{
            setAmount(event.target.value);
        }
        const reset = () => setAmount(0);
        function onFlipped(){
            reset(0);
            setFlipped(a => !a);
        }

        return (
            <div>
            <div>
                <label htmlFor ="Km">Km</label>
                <input 
                value = {flipped ? amount*1.6 : amount}
                id = "Km" 
                placeholder = "Km"
                type = "number"
                onChange = {onChange}
                disabled = {flipped === true}
                />
            </div>
            <div>
            <label htmlFor = "Miles">Miles</label>
            <input value = {flipped ? amount: amount*0.6} id = "Miles" placeholder = "Miles" type = "number" onChange = {onChange} disabled = {flipped === false}/>
            </div>
            <button onClick ={reset}>Reset</button>
            <button onClick ={onFlipped}>Flip</button>
        </div>
        );

    }
    const App = () => {
    const [Index, setindex] = React.useState("0");
    const onSelect = (event) => {
       setindex(event.target.value);
    };
    return(
        <div>
            <h1>Super Converter</h1>
            <select value = {Index} onChange = {onSelect}>
                <option value = "0">Minutes & Hours </option>
                <option value = "1">Km & Miles </option>
            </select>
            {Index === "0" ? <MinutesToHours/> : <KmToMiles/>}

        </div>
    )
    };
    ReactDOM.render(<App/>, root);
</script>
</html>